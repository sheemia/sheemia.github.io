<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="photo/favicon.ico" />
    <title>我的个人主页 | Personal Portfolio</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700;800;900&family=Noto+Sans+SC:wght@300;400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <style>
      /* --- 1. 核心配色 --- */
      :root {
        --bg-color: #020408;
        --text-primary: #e0faff;
        --text-secondary: #8aaacc;
        --accent-cyan: #00f2ff;
        --accent-blue: #0066ff;
        --glass-bg: rgba(5, 15, 30, 0.75);
        --border-color: rgba(0, 242, 255, 0.3);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      @media (pointer: fine) {
        * {
          cursor: none;
        }
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: "Montserrat", "Noto Sans SC", sans-serif;
        background-color: var(--bg-color);
        color: var(--text-primary);
        overflow-x: hidden;
      }

      /* --- 光标系统 --- */
      .cursor-dot,
      .cursor-circle {
        pointer-events: none;
        z-index: 9999;
        position: fixed;
        top: 0;
        left: 0;
        transform: translate(-50%, -50%);
      }
      .cursor-dot {
        width: 8px;
        height: 8px;
        background-color: var(--accent-cyan);
        border-radius: 50%;
        box-shadow: 0 0 10px var(--accent-cyan);
      }
      .cursor-circle {
        width: 40px;
        height: 40px;
        border: 1px solid var(--accent-cyan);
        border-radius: 50%;
        transition: width 0.3s, height 0.3s, background-color 0.3s;
        opacity: 0.6;
        z-index: 9998;
      }
      /* 平板/手机端物理隐藏光标 */
      @media (hover: none) and (pointer: coarse) {
        .cursor-dot,
        .cursor-circle {
          display: none !important;
        }
      }

      /* --- 背景 --- */
      #canvas-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
      }

      /* --- 导航栏 --- */
      nav {
        position: fixed;
        top: 0;
        width: 100%;
        height: 80px;
        padding: 0 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 1000;
        background: linear-gradient(
          to bottom,
          rgba(2, 4, 8, 0.95),
          transparent
        );
        transition: 0.3s;
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 15px;
        z-index: 1001;
      }

      .logo-img {
        height: 40px;
        width: auto;
      }

      .logo-text {
        font-family: "Montserrat", sans-serif;
        font-size: 1.8rem;
        font-weight: 900;
        color: var(--accent-cyan);
        letter-spacing: 1px;
        text-shadow: 0 0 15px rgba(0, 242, 255, 0.6);
        font-style: italic;
      }

      .nav-right {
        display: flex;
        align-items: center;
      }

      .nav-links {
        display: flex;
        gap: 40px;
        margin-right: 160px;
      }
      .nav-links li {
        list-style: none;
      }
      .nav-links a {
        text-decoration: none;
        color: #fff;
        font-size: 0.95rem;
        letter-spacing: 0.5px;
        position: relative;
        transition: 0.3s;
        font-weight: 600;
      }
      .nav-links a:hover {
        color: var(--accent-cyan);
      }
      .nav-links a::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: var(--accent-cyan);
        transition: 0.3s;
      }
      .nav-links a:hover::after {
        width: 100%;
      }

      .lang-btn {
        background: transparent;
        border: 1px solid var(--accent-cyan);
        color: var(--accent-cyan);
        padding: 6px 16px;
        font-family: "Montserrat", sans-serif;
        font-weight: 700;
        font-size: 0.8rem;
        cursor: pointer;
        transition: 0.3s;
        letter-spacing: 1px;
      }
      .lang-btn:hover {
        background: var(--accent-cyan);
        color: #000;
        box-shadow: 0 0 15px var(--accent-cyan);
      }

      .desktop-lang-btn {
        position: absolute;
        right: 40px;
        top: 50%;
        transform: translateY(-50%);
        z-index: 1002;
      }
      .mobile-lang-btn-li {
        display: none;
      }

      /* --- 汉堡菜单 --- */
      .hamburger {
        display: none;
        cursor: pointer;
        flex-direction: column;
        gap: 6px;
        z-index: 2000;
      }
      .hamburger span {
        width: 30px;
        height: 3px;
        background-color: var(--accent-cyan);
        transition: 0.4s cubic-bezier(0.68, -0.6, 0.32, 1.6);
        border-radius: 2px;
      }
      .hamburger.active span:nth-child(1) {
        transform: translateY(9px) rotate(45deg);
      }
      .hamburger.active span:nth-child(2) {
        opacity: 0;
      }
      .hamburger.active span:nth-child(3) {
        transform: translateY(-9px) rotate(-45deg);
      }

      @media (max-width: 900px) {
        /* 手机端彻底隐藏光标 */
        .cursor-dot,
        .cursor-circle {
          display: none !important;
        }

        nav {
          padding: 15px 20px;
          background: rgba(2, 4, 8, 0.95);
        }
        .desktop-lang-btn {
          display: none;
        }
        .hamburger {
          display: flex;
        }
        .mobile-lang-btn-li {
          display: block;
        }
        .nav-links {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100vh;
          background: rgba(2, 4, 8, 0.98);
          backdrop-filter: blur(10px);
          flex-direction: column;
          justify-content: center;
          align-items: center;
          gap: 40px;
          margin-right: 0;
          transform: translateX(100%);
          transition: transform 0.4s ease-in-out;
          z-index: 1500;
        }
        .nav-links.active {
          transform: translateX(0);
        }
        .nav-links a {
          font-size: 1.5rem;
        }
      }

      /* --- 通用版块 --- */
      section {
        min-height: 100vh;
        padding: 100px 10%;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .section-title {
        font-family: "Montserrat", sans-serif;
        font-weight: 800;
        font-size: 3rem;
        margin-bottom: 50px;
        background: linear-gradient(90deg, #fff, var(--text-secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        opacity: 0;
        transform: translateY(30px);
        border-left: 5px solid var(--accent-cyan);
        padding-left: 20px;
        letter-spacing: -1px;
      }

      #home {
        align-items: flex-start;
      }
      .hero-title {
        font-family: "Montserrat", sans-serif;
        font-size: 5rem;
        font-weight: 900;
        line-height: 1.1;
        margin-bottom: 20px;
        letter-spacing: -2px;
      }
      .hero-title span {
        color: var(--accent-cyan);
        text-shadow: 0 0 20px rgba(0, 242, 255, 0.4);
      }
      .type-wrapper {
        font-size: 1.5rem;
        color: var(--accent-blue);
        font-family: "Montserrat", sans-serif;
        font-weight: 600;
        margin-bottom: 40px;
        min-height: 30px;
        letter-spacing: 1px;
      }

      .about-content {
        display: flex;
        gap: 50px;
        flex-wrap: wrap;
        align-items: center;
      }
      .about-text {
        flex: 1;
        font-size: 1.1rem;
        line-height: 1.8;
        color: var(--text-secondary);
        min-width: 300px;
        font-weight: 500;
      }
      .about-stats {
        display: flex;
        gap: 40px;
      }
      .stat-item h3 {
        font-size: 3.5rem;
        color: var(--accent-cyan);
        font-family: "Montserrat", sans-serif;
        font-weight: 800;
        margin-bottom: 5px;
      }
      .stat-item p {
        font-size: 0.9rem;
        color: #fff;
        letter-spacing: 1px;
        font-weight: 600;
      }

      .projects-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 30px;
        width: 100%;
      }
      .project-card {
        display: block;
        text-decoration: none;
        background: var(--glass-bg);
        border: 1px solid var(--border-color);
        padding: 35px;
        transition: 0.4s;
        opacity: 0;
        transform: translateY(50px);
        position: relative;
        overflow: hidden;
      }
      .project-card:hover {
        transform: translateY(-10px);
        border-color: var(--accent-cyan);
        box-shadow: 0 10px 40px rgba(0, 242, 255, 0.15);
      }
      .project-card h3 {
        color: var(--accent-cyan);
        margin-bottom: 15px;
        font-size: 1.5rem;
        font-family: "Montserrat", sans-serif;
        font-weight: 800;
        letter-spacing: -0.5px;
      }
      .project-card p {
        font-size: 0.95rem;
        color: var(--text-secondary);
        line-height: 1.6;
      }

      .awards-list {
        width: 100%;
        border-left: 1px solid rgba(255, 255, 255, 0.1);
      }
      .award-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 25px 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        transition: 0.3s;
        opacity: 0;
        transform: translateX(-30px);
      }
      .award-item:hover {
        padding-left: 40px;
        background: linear-gradient(90deg, rgba(0, 242, 255, 0.1), transparent);
        border-left: 3px solid var(--accent-cyan);
      }
      .award-year {
        font-family: "Montserrat", sans-serif;
        color: var(--accent-blue);
        font-weight: 800;
        font-size: 1.2rem;
        min-width: 100px;
      }
      .award-title {
        font-size: 1.2rem;
        color: #fff;
        margin-left: 20px;
        flex: 1;
        font-weight: 600;
      }
      /* 奖项等级优化 */
      .award-desc {
        font-size: 1.1rem; /* 调大字体 */
        color: var(--accent-cyan);
        text-align: right;
        min-width: 120px;
        font-weight: 800; /* 加粗 */
        font-family: "Montserrat", sans-serif;
      }

      .social-container {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
      }
      .social-btn {
        padding: 20px 30px;
        border: 1px solid var(--border-color);
        color: var(--accent-cyan);
        text-decoration: none;
        font-family: "Montserrat", sans-serif;
        letter-spacing: 1px;
        font-weight: 800;
        transition: 0.3s;
        position: relative;
        overflow: hidden;
        opacity: 0;
        scale: 0.9;
        background: rgba(0, 0, 0, 0.3);
        flex: 1;
        text-align: center;
        min-width: 140px;
        text-transform: uppercase;
      }
      .social-btn:hover {
        color: #000;
        background: var(--accent-cyan);
        box-shadow: 0 0 30px var(--accent-cyan);
      }

      /* 手机端联系方式居中 */
      .contact-box {
        text-align: center;
        border: 1px solid var(--border-color);
        padding: 60px;
        background: var(--glass-bg);
        backdrop-filter: blur(10px);

        /* Flex 居中大法 */
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      .email-text {
        font-size: clamp(1.2rem, 5vw, 3rem);
        color: #fff;
        font-weight: 800;
        word-break: break-all;
        transition: 0.3s;
        user-select: text;
        font-family: "Montserrat", sans-serif;
        letter-spacing: 1px;
      }
      .email-text:hover {
        color: var(--accent-cyan);
        text-shadow: 0 0 30px var(--accent-cyan);
      }

      @media (max-width: 768px) {
        .section-title {
          font-size: 2rem;
          margin-bottom: 30px;
        }
        .hero-title {
          font-size: 3rem;
        }
        .type-wrapper {
          font-size: 1rem;
        }
        section {
          padding: 80px 5%;
        }
        .about-content {
          gap: 30px;
        }
        .award-item {
          flex-direction: column;
          align-items: flex-start;
          gap: 5px;
        }
        .award-title {
          margin-left: 0;
          font-size: 1.1rem;
        }
        .award-desc {
          text-align: left;
          font-size: 1rem;
          margin-top: 5px;
        }
        .contact-box {
          padding: 30px 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="cursor-dot"></div>
    <div class="cursor-circle"></div>
    <div id="canvas-container"></div>

    <nav>
      <div class="logo-container">
        <img src="photo/logo.png" alt="Logo" class="logo-img" />
        <div class="logo-text">Sheemia</div>
      </div>

      <button class="lang-btn desktop-lang-btn nav-lang-toggle">EN / CN</button>

      <div class="nav-right">
        <div class="hamburger" id="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>

        <ul class="nav-links" id="navLinks">
          <li class="mobile-lang-btn-li">
            <button class="lang-btn nav-lang-toggle">EN / CN</button>
          </li>
          <li><a href="#home" data-key="nav_home">主页</a></li>
          <li><a href="#about" data-key="nav_about">简介</a></li>
          <li><a href="#works" data-key="nav_works">作品</a></li>
          <li><a href="#awards" data-key="nav_awards">获奖</a></li>
          <li><a href="#social" data-key="nav_social">社交媒体</a></li>
          <li><a href="#contact" data-key="nav_contact">联系方式</a></li>
        </ul>
      </div>
    </nav>

    <section id="home">
      <h1 class="hero-title">
        <span data-key="hero_greet">你好，我是</span><br /><span
          style="color: var(--accent-cyan)"
          data-key="hero_role"
          >Sheemia</span
        >
      </h1>
      <div class="type-wrapper">
        <span data-key="hero_prefix">探索 </span><span id="typed-text"></span>
      </div>
    </section>

    <section id="about">
      <h2 class="section-title gs-reveal" data-key="section_about">个人简介</h2>
      <div class="about-content gs-reveal">
        <div class="about-text">
          <p data-key="about_p1">我是韩山师范学院2025级的学生。</p>
          <br />
          <p data-key="about_p2">
            本人正在学习嵌入式系统，C++算法，Web前端和JS脚本。
          </p>
        </div>
        <div class="about-stats">
          <div class="stat-item">
            <h3>0.5+</h3>
            <p data-key="stat_exp">开发经验</p>
          </div>
          <div class="stat-item">
            <h3>3+</h3>
            <p data-key="stat_proj">成功项目</p>
          </div>
        </div>
      </div>
    </section>

    <section id="works">
      <h2 class="section-title gs-reveal" data-key="section_works">精选作品</h2>
      <div class="projects-grid">
        <a
          href="IKUN_World/default.html"
          target="_blank"
          class="project-card gs-card"
        >
          <h3 data-key="proj_1_title">IKUN世界</h3>
          <p data-key="proj_1_desc">
            Web前端网站实训作品：十分炫酷，可玩性极高的蔡徐坤应援网站。
          </p>
        </a>
        <a
          href="https://www.google.com"
          target="_blank"
          class="project-card gs-card"
        >
          <h3 data-key="proj_2_title">51循迹小车</h3>
          <p data-key="proj_2_desc">
            基于STC89C52RC芯片设计的寻迹小车，完成了第一届602杯的所有任务，取得了不错的成绩。
          </p>
        </a>
        <a
          href="Web_learning/default.html"
          target="_blank"
          class="project-card gs-card"
        >
          <h3 data-key="proj_3_title">Web前端学习日记</h3>
          <p data-key="proj_3_desc">上Web前端课所做的作品。</p>
        </a>
      </div>
    </section>

    <section id="awards">
      <h2 class="section-title gs-reveal" data-key="section_awards">
        荣誉奖项
      </h2>
      <div class="awards-list">
        <div class="award-item gs-award">
          <div class="award-year" data-key="award_1_year">2025.12</div>
          <div class="award-title" data-key="award_1_title">
            第八届传智杯程序设计挑战赛B组省赛
          </div>
          <div class="award-desc" data-key="award_1_desc">优秀奖</div>
        </div>
        <div class="award-item gs-award">
          <div class="award-year" data-key="award_2_year">2025.12</div>
          <div class="award-title" data-key="award_2_title">
            第一届602杯大学生电子设计竞赛
          </div>
          <div class="award-desc" data-key="award_2_desc">第一名</div>
        </div>
        <div class="award-item gs-award">
          <div class="award-year" data-key="award_3_year">2025.11</div>
          <div class="award-title" data-key="award_3_title">
            第四届韩山师范学院程序设计竞赛
          </div>
          <div class="award-desc" data-key="award_3_desc">银奖</div>
        </div>
        <div class="award-item gs-award">
          <div class="award-year" data-key="award_4_year">2025.11</div>
          <div class="award-title" data-key="award_4_title">
            第八届传智杯AIot嵌入式系统创新大赛B组初赛
          </div>
          <div class="award-desc" data-key="award_4_desc">一等奖</div>
        </div>
        <div class="award-item gs-award">
          <div class="award-year" data-key="award_5_year">2025.11</div>
          <div class="award-title" data-key="award_5_title">
            第八届传智杯程序设计挑战赛B组初赛
          </div>
          <div class="award-desc" data-key="award_5_desc">二等奖</div>
        </div>
      </div>
    </section>

    <section id="social">
      <h2 class="section-title gs-reveal" data-key="section_social">
        社交媒体
      </h2>
      <div class="social-container">
        <a
          href="#"
          target="_blank"
          class="social-btn gs-social"
          data-key="social_github"
          >GITHUB</a
        >
        <a
          href="#"
          target="_blank"
          class="social-btn gs-social"
          data-key="social_bilibili"
          >哔哩哔哩</a
        >
        <a
          href="#"
          target="_blank"
          class="social-btn gs-social"
          data-key="social_douyin"
          >抖音</a
        >
        <a
          href="#"
          target="_blank"
          class="social-btn gs-social"
          data-key="social_csdn"
          >CSDN</a
        >
      </div>
    </section>

    <section id="contact">
      <h2 class="section-title gs-reveal" data-key="section_contact">
        联系方式
      </h2>
      <div class="contact-box gs-reveal">
        <p
          style="margin-bottom: 30px; color: var(--text-secondary)"
          data-key="contact_msg"
        >
          如有需要，请联系我
        </p>
        <p class="email-text">chenjunyang2007@gmail.com</p>
      </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>

    <script>
      // --- 0. 手机菜单逻辑 ---
      const hamburger = document.getElementById("hamburger");
      const navLinks = document.getElementById("navLinks");
      const navLinksItems = document.querySelectorAll(".nav-links a");

      hamburger.addEventListener("click", () => {
        navLinks.classList.toggle("active");
        hamburger.classList.toggle("active");
      });

      navLinksItems.forEach((item) => {
        item.addEventListener("click", () => {
          navLinks.classList.remove("active");
          hamburger.classList.remove("active");
        });
      });

      // --- 1. 语言字典 ---
      const translations = {
        zh: {
          nav_home: "主页",
          nav_about: "简介",
          nav_works: "作品",
          nav_awards: "获奖",
          nav_social: "社交媒体",
          nav_contact: "联系方式",
          hero_greet: "你好，我是",
          hero_role: "Sheemia",
          hero_prefix: "探索",
          section_about: "个人简介",
          about_p1: "我是韩山师范学院2025级的学生。",
          about_p2: "本人正在学习嵌入式系统，C++算法，Web前端和JS脚本。",
          stat_exp: "开发经验",
          stat_proj: "成功项目",
          section_works: "精选作品",
          // 作品
          proj_1_title: "IKUN世界",
          proj_1_desc:
            "Web前端网站实训作品：十分炫酷，可玩性极高的蔡徐坤应援网站。",
          proj_2_title: "51循迹小车",
          proj_2_desc:
            "基于STC89C52RC芯片设计的寻迹小车，完成了第一届602杯的所有任务，取得了不错的成绩。",
          proj_3_title: "Web前端学习日记",
          proj_3_desc: "上Web前端课所做的作品。",
          section_awards: "荣誉奖项",
          // 奖项
          award_1_year: "2025.12",
          award_1_title: "第八届传智杯程序设计挑战赛B组省赛",
          award_1_desc: "优秀奖",
          award_2_year: "2025.12",
          award_2_title: "第一届602杯大学生电子设计竞赛",
          award_2_desc: "第一名",
          award_3_year: "2025.11",
          award_3_title: "第四届韩山师范学院程序设计竞赛",
          award_3_desc: "银奖",
          award_4_year: "2025.11",
          award_4_title: "第八届传智杯AIot嵌入式系统创新大赛B组初赛",
          award_4_desc: "一等奖",
          award_5_year: "2025.11",
          award_5_title: "第八届传智杯程序设计挑战赛B组初赛",
          award_5_desc: "二等奖",
          // 社交
          section_social: "社交媒体",
          social_github: "GITHUB",
          social_bilibili: "哔哩哔哩",
          social_douyin: "抖音",
          social_csdn: "CSDN",
          section_contact: "联系方式",
          contact_msg: "如有需要，请联系我",
          typed_strings: ["嵌入式系统", "C++算法", "Web前端", "JS脚本"],
        },
        en: {
          nav_home: "HOME",
          nav_about: "ABOUT",
          nav_works: "WORKS",
          nav_awards: "AWARDS",
          nav_social: "SOCIAL MEDIA",
          nav_contact: "CONTACT",
          hero_greet: "HELLO, I AM",
          hero_role: "Sheemia",
          hero_prefix: "EXPLORE",
          section_about: "ABOUT ME",
          about_p1:
            "I am a student from the Class of 2025 at Hanshan Normal University.",
          about_p2:
            "I am currently studying Embedded Systems, C++ Algorithms, Web Frontend, and JavaScript.",
          stat_exp: "YEARS EXP",
          stat_proj: "PROJECTS",
          section_works: "SELECTED WORKS",
          // Works
          proj_1_title: "IKUN World",
          proj_1_desc:
            "Web Frontend Project: A visually stunning and highly interactive fan site for Cai Xukun.",
          proj_2_title: "51 Line Tracking Car",
          proj_2_desc:
            "Line-following robot based on the STC89C52RC chip. Completed all tasks in the 1st '602 Cup' and achieved excellent results.",
          proj_3_title: "Frontend Learning Diary",
          proj_3_desc:
            "Coursework projects created during Web Frontend development classes.",
          section_awards: "HONORS & AWARDS",
          // Awards
          award_1_year: "Dec 2025",
          award_1_title:
            "8th Chuanzhi Cup Programming Challenge Group B Provincial",
          award_1_desc: "Excellence Award",
          award_2_year: "Dec 2025",
          award_2_title: "1st 602 Cup University Electronic Design Contest",
          award_2_desc: "1st Place",
          award_3_year: "Nov 2025",
          award_3_title: "4th Hanshan Normal University Programming Contest",
          award_3_desc: "Silver Award",
          award_4_year: "Nov 2025",
          award_4_title:
            "8th Chuanzhi Cup AIoT Embedded System Innovation Contest Group B Prelim",
          award_4_desc: "1st Prize",
          award_5_year: "Nov 2025",
          award_5_title:
            "8th Chuanzhi Cup Programming Challenge Group B Prelim",
          award_5_desc: "2nd Prize",
          // Social
          section_social: "FOLLOW ME",
          social_github: "GITHUB",
          social_bilibili: "BILIBILI",
          social_douyin: "TIKTOK",
          social_csdn: "CSDN",
          section_contact: "GET IN TOUCH",
          contact_msg: "Feel free to contact me.",
          typed_strings: [
            "Embedded Systems",
            "C++ Algorithms",
            "Web Frontend",
            "JavaScript",
          ],
        },
      };

      // --- 2. 语言切换 ---
      let currentLang = localStorage.getItem("site_lang") || "zh";
      let typedInstance = null;

      const updateLanguage = () => {
        document.querySelectorAll("[data-key]").forEach((el) => {
          const key = el.getAttribute("data-key");
          if (translations[currentLang][key]) {
            el.style.opacity = 0;
            setTimeout(() => {
              el.textContent = translations[currentLang][key];
              el.style.opacity = 1;
            }, 200);
          }
        });

        if (typedInstance) typedInstance.destroy();
        typedInstance = new Typed("#typed-text", {
          strings: translations[currentLang].typed_strings,
          typeSpeed: 60,
          backSpeed: 40,
          backDelay: 2000,
          loop: true,
        });

        document.documentElement.lang = currentLang === "zh" ? "zh-CN" : "en";
        localStorage.setItem("site_lang", currentLang);
      };

      // 绑定所有的翻译按钮
      document.querySelectorAll(".nav-lang-toggle").forEach((btn) => {
        btn.addEventListener("click", () => {
          currentLang = currentLang === "zh" ? "en" : "zh";
          updateLanguage();
        });
      });

      updateLanguage();

      // --- 3. 光标逻辑 (仅 PC) ---
      const dot = document.querySelector(".cursor-dot");
      const circle = document.querySelector(".cursor-circle");

      if (window.matchMedia("(hover: hover)").matches) {
        window.addEventListener("mousemove", (e) => {
          const posX = e.clientX;
          const posY = e.clientY;
          dot.style.left = `${posX}px`;
          dot.style.top = `${posY}px`;
          circle.animate(
            { left: `${posX}px`, top: `${posY}px` },
            { duration: 500, fill: "forwards" }
          );
        });
        const hoverTargets = document.querySelectorAll(
          "a, .project-card, .social-btn, .email-text, button"
        );
        hoverTargets.forEach((el) => {
          el.addEventListener("mouseenter", () => {
            circle.style.width = "60px";
            circle.style.height = "60px";
            circle.style.backgroundColor = "rgba(0, 242, 255, 0.1)";
            circle.style.borderColor = "transparent";
          });
          el.addEventListener("mouseleave", () => {
            circle.style.width = "40px";
            circle.style.height = "40px";
            circle.style.backgroundColor = "transparent";
            circle.style.borderColor = "#00f2ff";
          });
        });
      }

      // --- 4. Three.js 星空 ---
      const initThree = () => {
        const container = document.getElementById("canvas-container");
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(
          75,
          window.innerWidth / window.innerHeight,
          0.1,
          1000
        );
        camera.position.z = 2;
        const renderer = new THREE.WebGLRenderer({ alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(renderer.domElement);

        const geometry = new THREE.BufferGeometry();
        const particlesCount = 1800;
        const posArray = new Float32Array(particlesCount * 3);
        for (let i = 0; i < particlesCount * 3; i++)
          posArray[i] = (Math.random() - 0.5) * 6;
        geometry.setAttribute(
          "position",
          new THREE.BufferAttribute(posArray, 3)
        );

        const material = new THREE.PointsMaterial({
          size: 0.005,
          color: 0x00f2ff,
          transparent: true,
          opacity: 0.8,
        });
        const particlesMesh = new THREE.Points(geometry, material);
        scene.add(particlesMesh);

        let mouseX = 0;
        let mouseY = 0;
        const rotationSpeed = 0.006;

        document.addEventListener("mousemove", (event) => {
          mouseX = (event.clientX / window.innerWidth) * 2 - 1;
          mouseY = (event.clientY / window.innerHeight) * 2 - 1;
        });

        const animate = () => {
          requestAnimationFrame(animate);
          particlesMesh.rotation.y -= mouseX * rotationSpeed;
          particlesMesh.rotation.x -= mouseY * rotationSpeed;
          renderer.render(scene, camera);
        };
        animate();

        window.addEventListener("resize", () => {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
        });
      };
      initThree();

      // --- 5. GSAP ---
      gsap.registerPlugin(ScrollTrigger);
      gsap.utils.toArray(".gs-reveal").forEach((elem) => {
        gsap.to(elem, {
          scrollTrigger: { trigger: elem, start: "top 85%" },
          y: 0,
          opacity: 1,
          duration: 1,
          ease: "power3.out",
        });
      });
      gsap.to(".gs-card", {
        scrollTrigger: { trigger: "#works", start: "top 75%" },
        y: 0,
        opacity: 1,
        duration: 0.8,
        stagger: 0.2,
      });
      gsap.to(".gs-award", {
        scrollTrigger: { trigger: "#awards", start: "top 80%" },
        x: 0,
        opacity: 1,
        duration: 0.8,
        stagger: 0.15,
      });
      gsap.to(".gs-social", {
        scrollTrigger: { trigger: "#social", start: "top 85%" },
        scale: 1,
        opacity: 1,
        duration: 0.5,
        stagger: 0.1,
        ease: "back.out(1.7)",
      });
    </script>
  </body>
</html>
